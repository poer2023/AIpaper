# 引用模块开发计划与进度

## 已实现功能

1. **F1: 文档上传**
   - 创建了 `FileUpload` 组件，支持拖拽和按钮上传
   - 实现了文件类型验证（PDF/DOCX/TXT）和大小限制（≤10MB）
   - 创建了 `/api/upload` API 端点处理上传请求

2. **F2: 文本提取**
   - 创建了 `/api/extract` API 端点，处理不同类型文件的文本提取
   - 支持扫描版PDF检测和错误处理
   - 实现了文本提取状态的前端展示

3. **F3: 向量化切片**
   - 创建了 `/api/vectorize` API 端点，实现文档内容分段
   - 模拟了向量嵌入的生成过程（实际环境中应使用text-embedding-3-small）
   - 实现了向量化结果的前端展示

4. **F4: 元数据提取**
   - 在文本提取过程中自动提取Title、Authors、Year、DOI等元数据
   - 创建了 `MetadataEditor` 组件，支持用户手动编辑元数据
   - 实现了元数据的自动填充和存储

5. **F5: 文献卡片列表**
   - 创建了 `/library` 页面展示用户的文献库
   - 实现了 `DocumentCard` 组件，展示文献的封面、标题、作者等信息
   - 创建了 `/api/library` API 端点返回文献卡片数据

6. **F6: 检索 & 插入引用**
   - 创建了 `CitationManager` 组件用于搜索和管理引用
   - 实现了 `/api/search` API 端点，支持根据关键词搜索相关文献片段
   - 支持用户从搜索结果中选择并添加引用到文档中

7. **F7: 去重 & 统一编号**
   - 实现了 `/api/cite` API 端点，支持引用的去重和统一编号
   - 同一引用在多次使用时会复用同一编号，保持一致性

## 下一步开发计划

1. **完善引用格式化功能**
   - 实现不同引用格式（APA、MLA、Chicago等）的支持
   - 添加引用样式预览和编辑功能

2. **集成真实的后端服务**
   - 实现数据持久化，将模拟数据替换为真实数据库
   - 配置Qdrant向量数据库进行实际的向量搜索
   - 集成OpenAI API实现真实的文本嵌入

3. **用户认证与权限控制**
   - 添加用户登录和注册功能
   - 实现文档的权限控制
   - 添加用户个人设置功能

4. **添加测试和优化**
   - 编写单元测试和集成测试
   - 性能优化和用户体验改进
   - 解决已知bug和边缘情况

5. **增强特性开发**
   - 批量上传和处理功能
   - 引用导出功能（如BibTeX、RIS等格式）
   - 引用统计和分析功能 